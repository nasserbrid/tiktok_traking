{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h2 class="fw-bold mb-3">@{{ compte.username }}</h2>
  <p class="text-muted">
    <a href="{{ compte.url }}" target="_blank" class="text-decoration-none text-info">
      <i class="fa-brands fa-tiktok"></i> Voir sur TikTok
    </a>
  </p>

  <h4 class="mt-4 mb-3">Lives associés</h4>

  {% if lives %}
  <div class="list-group">
    {% for live in lives %}
    <div class="list-group-item bg-dark text-light border-secondary mb-2">
      <h5 class="mb-1">{{ live.titre }}</h5>
      <small>
        <i class="fa-regular fa-clock"></i> Début : {{ live.date_debut|date:"d/m/Y H:i" }}<br />
        {% if live.date_fin %}
        <i class="fa-solid fa-flag-checkered"></i> Fin : {{ live.date_fin|date:"d/m/Y H:i" }}<br />
        {% endif %}
        <i class="fa-solid fa-users"></i> {{ live.nb_spectateurs }} spectateurs
      </small>
      <span class="badge bg-{% if live.statut == 'en_cours' %}success{% else %}secondary{% endif %} float-end">
        {{ live.get_statut_display }}
      </span>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="text-muted">Aucun live trouvé pour ce compte.</p>
  {% endif %}

  <a href="{% url 'comptes_list' %}" class="btn btn-outline-light mt-3">
    <i class="fa-solid fa-arrow-left"></i> Retour
  </a>
</div>
{% endblock %}
